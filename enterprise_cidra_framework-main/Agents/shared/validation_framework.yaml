# CIDRA Validation Framework
# 100-Point Quality Validation System
# Version: 1.0.0

name: "100-Point Validation Framework"
version: "1.0.0"
applies_to: "all_documentation"

# Core principle
principle: |
  Documentation quality is binary: either it's perfect (100/100) or it needs work.
  Partial scores indicate areas for improvement, not acceptable delivery.
  Only 100/100 documentation is considered complete.

# Scoring system
scoring:
  maximum: 100
  passing: 100  # Only 100 is acceptable for delivery
  categories:
    - name: "Completeness"
      weight: 25
      max_points: 25
    - name: "Accuracy"
      weight: 30
      max_points: 30
    - name: "Consistency"
      weight: 20
      max_points: 20
    - name: "Traceability"
      weight: 15
      max_points: 15
    - name: "Formatting"
      weight: 10
      max_points: 10

# Detailed validation rules
validation_rules:

  # ============================================
  # COMPLETENESS (25 points)
  # ============================================
  completeness:
    total_points: 25

    checks:
      - id: "COMP_001"
        name: "All required files exist"
        points: 5
        check: "Verify all 7 files in documentation structure exist"
        files:
          - "01_SCREEN_SPECIFICATION.md"
          - "02_UI_MOCKUP.md"
          - "03_TECHNICAL_ANALYSIS.md"
          - "04_BUSINESS_LOGIC.md"
          - "05_CODE_ARTIFACTS.md"
          - "README.md"
          - "validation_report.md"

      - id: "COMP_002"
        name: "All required sections present"
        points: 5
        check: "Each file contains all required sections per template"

      - id: "COMP_003"
        name: "No TODO markers remaining"
        points: 5
        check: "grep -r 'TODO\\|FIXME\\|XXX\\|TBD' returns empty"

      - id: "COMP_004"
        name: "All code artifacts documented"
        points: 5
        check: "Every method/function mentioned has documentation"

      - id: "COMP_005"
        name: "All UI elements documented"
        points: 5
        check: "Every visible UI element has description"

  # ============================================
  # ACCURACY (30 points)
  # ============================================
  accuracy:
    total_points: 30

    checks:
      - id: "ACC_001"
        name: "All counts are exact"
        points: 10
        check: "No 'approximately', 'about', 'around' for numbers"
        deduction_per_violation: 2

      - id: "ACC_002"
        name: "All code references verifiable"
        points: 10
        check: "Every file:line reference can be validated"
        deduction_per_violation: 5

      - id: "ACC_003"
        name: "No forbidden words without verification"
        points: 5
        check: "Check forbidden word list usage"
        forbidden_words:
          - "all"
          - "none"
          - "always"
          - "never"
          - "typically"
          - "usually"
          - "probably"
          - "seems like"
          - "I believe"
          - "should be"

      - id: "ACC_004"
        name: "Business logic matches code"
        points: 5
        check: "Documented behavior matches actual code behavior"

  # ============================================
  # CONSISTENCY (20 points)
  # ============================================
  consistency:
    total_points: 20

    checks:
      - id: "CON_001"
        name: "Cross-document count consistency"
        points: 8
        check: "If '5 methods' in one doc, same count in all docs"

      - id: "CON_002"
        name: "Naming consistency"
        points: 4
        check: "Same element has same name across all documents"

      - id: "CON_003"
        name: "Terminology consistency"
        points: 4
        check: "Consistent use of technical terms"

      - id: "CON_004"
        name: "Format consistency"
        points: 4
        check: "Same formatting patterns across all files"

  # ============================================
  # TRACEABILITY (15 points)
  # ============================================
  traceability:
    total_points: 15

    checks:
      - id: "TRC_001"
        name: "Every claim has source reference"
        points: 5
        check: "Technical claims include file:line"

      - id: "TRC_002"
        name: "Code snippets have exact locations"
        points: 5
        check: "All code blocks have file path and line numbers"

      - id: "TRC_003"
        name: "Relationships are bidirectional"
        points: 5
        check: "If A references B, B should reference A"

  # ============================================
  # FORMATTING (10 points)
  # ============================================
  formatting:
    total_points: 10

    checks:
      - id: "FMT_001"
        name: "Valid markdown syntax"
        points: 3
        check: "All markdown renders correctly"

      - id: "FMT_002"
        name: "Consistent heading hierarchy"
        points: 2
        check: "H1 > H2 > H3 properly nested"

      - id: "FMT_003"
        name: "Code blocks have language tags"
        points: 2
        check: "All ``` blocks have language specified"

      - id: "FMT_004"
        name: "Tables properly formatted"
        points: 2
        check: "All tables render correctly"

      - id: "FMT_005"
        name: "Links are valid"
        points: 1
        check: "All internal links resolve"

# Validation report template
report_template: |
  # Validation Report

  **Component**: {component_name}
  **Date**: {date}
  **Validator**: CIDRA Validation Framework v1.0.0

  ## Overall Score: {total_score}/100

  | Category | Score | Max | Status |
  |----------|-------|-----|--------|
  | Completeness | {comp_score} | 25 | {comp_status} |
  | Accuracy | {acc_score} | 30 | {acc_status} |
  | Consistency | {con_score} | 20 | {con_status} |
  | Traceability | {trc_score} | 15 | {trc_status} |
  | Formatting | {fmt_score} | 10 | {fmt_status} |

  ## Detailed Findings

  ### Issues Found
  {issues_list}

  ### Recommendations
  {recommendations}

  ## Verdict
  {verdict}

# Auto-fix capabilities
auto_fix:
  enabled: true
  can_fix:
    - "FMT_001"  # Markdown syntax
    - "FMT_002"  # Heading hierarchy
    - "FMT_003"  # Code block languages
    - "COMP_003" # TODO markers (flag for review)

  cannot_fix:
    - "ACC_001"  # Counts must be verified manually
    - "ACC_002"  # References must be verified manually
    - "CON_001"  # Cross-document consistency needs human review

# Integration commands
commands:
  validate:
    syntax: "/document:validate [path]"
    description: "Run full 100-point validation"
    output: "validation_report.md"

  fix:
    syntax: "/document:fix [path]"
    description: "Auto-fix fixable issues"
    output: "Updated files + fix_report.md"

  score:
    syntax: "/document:score [path]"
    description: "Quick score without full report"
    output: "Score summary to console"

# Severity levels
severity_levels:
  critical:
    description: "Must fix before delivery"
    examples:
      - "Inaccurate counts"
      - "Unverifiable references"
      - "Missing required files"

  major:
    description: "Should fix before delivery"
    examples:
      - "Inconsistent naming"
      - "Missing sections"
      - "Forbidden words"

  minor:
    description: "Fix if time permits"
    examples:
      - "Formatting issues"
      - "Style inconsistencies"

  suggestion:
    description: "Optional improvements"
    examples:
      - "Additional examples"
      - "Better organization"
